plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version '7.1.2'
}

group 'com.xbaimiao.test'
version '1.0.0'

repositories {
    mavenLocal()
    maven {
        url "https://repo.xbaimiao.com/nexus/content/repositories/releases/"
    }
    maven {
        url "https://repo.aikar.co/content/groups/aikar/"
    }
    mavenCentral()
}

tasks.withType(JavaCompile) {
    options.setEncoding("UTF-8")
}

dependencies {
    implementation "top.mcplugin.lib:module-main:1.0.4-beta1"
    implementation "top.mcplugin.lib:module-lang:1.0.4-beta1"
    compileOnly 'public:spigot:1.12.2'
    compileOnly fileTree('libs')
}

shadowJar {
    relocate('top.mcplugin.lib', 'com.xbaimiao.test.shadow')
    exclude("LICENSE")
    exclude("META-INF/**")
    minimize()
}

test {
    useJUnitPlatform()
}